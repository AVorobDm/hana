#=============================================================================
# Setup examples
#=============================================================================
add_custom_target(examples
    COMMAND ${CMAKE_CTEST_COMMAND} --output-on-failure -R "example.+"
    COMMENT "Build and run all the examples.")

function(boost_hana_add_example name)
    string(REGEX REPLACE "[.]" "/" source ${name})
    add_executable(example.${name} EXCLUDE_FROM_ALL ${source}.cpp)
    add_test(NAME example.${name} COMMAND example.${name})
    add_dependencies(examples example.${name})
endfunction()

boost_hana_add_example(functional.always.basic)
boost_hana_add_example(functional.always.dependent)
boost_hana_add_example(functional.apply)
boost_hana_add_example(functional.arg)
boost_hana_add_example(functional.compose)
boost_hana_add_example(functional.curry)
boost_hana_add_example(functional.fbind)
boost_hana_add_example(functional.fix)
boost_hana_add_example(functional.flip)
boost_hana_add_example(functional.id)
boost_hana_add_example(functional.lockstep)
boost_hana_add_example(functional.on)
boost_hana_add_example(functional.partial)
boost_hana_add_example(functional.placeholder)

boost_hana_add_example(integral.comparable)
boost_hana_add_example(integral.literals)
boost_hana_add_example(integral.operators)

boost_hana_add_example(list.comparable)
boost_hana_add_example(list.concat)
boost_hana_add_example(list.cons)
boost_hana_add_example(list.filter)
boost_hana_add_example(list.foldable.all)
boost_hana_add_example(list.foldable.any)
boost_hana_add_example(list.foldable.count)
boost_hana_add_example(list.foldable.foldl)
boost_hana_add_example(list.foldable.foldl1)
boost_hana_add_example(list.foldable.foldr)
boost_hana_add_example(list.foldable.foldr1)
boost_hana_add_example(list.foldable.length)
boost_hana_add_example(list.foldable.minimum)
boost_hana_add_example(list.foldable.minimum_by)
boost_hana_add_example(list.foldable.none)
boost_hana_add_example(list.foldable.unpack)
boost_hana_add_example(list.functor.fmap)
boost_hana_add_example(list.init)
boost_hana_add_example(list.iterable.at)
boost_hana_add_example(list.iterable.drop)
boost_hana_add_example(list.iterable.find)
boost_hana_add_example(list.iterable.overview)
boost_hana_add_example(list.list_c)
boost_hana_add_example(list.list_t)
boost_hana_add_example(list.monad.overview)
boost_hana_add_example(list.partition)
boost_hana_add_example(list.permutations)
boost_hana_add_example(list.reverse)
boost_hana_add_example(list.snoc)
boost_hana_add_example(list.sort)
boost_hana_add_example(list.sort_by)
boost_hana_add_example(list.take)
boost_hana_add_example(list.take_until)
boost_hana_add_example(list.take_while)
boost_hana_add_example(list.zip)
boost_hana_add_example(list.zip_with)

boost_hana_add_example(maybe.api)
boost_hana_add_example(maybe.comparable)
boost_hana_add_example(maybe.functor)
boost_hana_add_example(maybe.monad)

boost_hana_add_example(range.foldable.lazy_foldr)
boost_hana_add_example(range.foldable.product)
boost_hana_add_example(range.iterable.drop_while)
boost_hana_add_example(range.iterable.overview)
boost_hana_add_example(range.range)

boost_hana_add_example(type.comparable)
boost_hana_add_example(type.construct)
boost_hana_add_example(type.decltype)
boost_hana_add_example(type.initializer_list)
boost_hana_add_example(type.sizeof)
boost_hana_add_example(type.template)
boost_hana_add_example(type.untype)
